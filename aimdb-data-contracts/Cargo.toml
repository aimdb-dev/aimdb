[package]
name = "aimdb-data-contracts"
version.workspace = true
edition.workspace = true
authors.workspace = true
license.workspace = true
repository.workspace = true
homepage.workspace = true
description = "Data contracts for AimDB: portable schemas with built-in versioning and simulation support"
keywords = ["aimdb", "iot", "edge", "schema", "contracts"]
categories = ["embedded", "no-std"]

[features]
default = ["std"]
std = ["serde/std", "serde/alloc"]
linkable = ["serde_json"]
simulation = [
    "rand",
] # Remove std dependency - simulation can work in no_std with alloc
migration = ["std", "serde_json"]

[dependencies]
serde = { version = "1.0", default-features = false, features = [
    "derive",
    "alloc",
] }
serde_json = { version = "1.0", optional = true }

[dependencies.rand]
version = "0.8"
optional = true
default-features = false
features = ["std_rng"]

[dev-dependencies]
serde_json = "1.0"
